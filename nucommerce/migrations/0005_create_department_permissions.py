# Generated by Django 5.0.6 on 2024-06-12 15:52

from django.db import migrations
from django.contrib.auth.models import Group, Permission

class Migration(migrations.Migration):

    def apply_migration(apps, schema_editor):
        admin_group = Group.objects.get(name='admin')

        all_category_permissions = Permission.objects.filter(content_type__app_label='nucommerce',
                                                            content_type__model='category')
        for permission in all_category_permissions:
            admin_group.permissions.add(permission)

    def revert_migration(apps, schema_editor):
        admin_group = Group.objects.get(name='admin')

        all_category_permissions = Permission.objects.filter(content_type__app_label='nucommerce',
                                                             content_type__model='category')
        for permission in all_category_permissions:
            admin_group.permissions.remove(permission)
        pass

    dependencies = [
        ('nucommerce', '0004_create_admin_group'),
    ]

    operations = [
        migrations.RunPython(apply_migration, revert_migration)
    ]
